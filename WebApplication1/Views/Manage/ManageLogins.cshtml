@model WebApplication1.Models.ManageLoginsViewModel
@{
    ViewBag.Title = "Manage Your External Logins";
}

<h2>@ViewBag.Title.</h2>

<p class="text-success">@ViewBag.StatusMessage</p>
@{
    var logins = Model.CurrentLogins;
    if (logins.Count > 0)
    {
        <h4>Registered Logins</h4>
        <table class="table">
            <tbody>
                @foreach (var account in logins)
                {
                    <tr>
                        <td>@account.ProviderDisplayName</td>
                        <td>
                            @if (ViewBag.ShowRemoveButton)
                            {
                                using (Html.BeginForm("RemoveLogin", "Manage"))
                                {
                                    @Html.AntiForgeryToken()
                                    <div>
                                        @Html.Hidden("LoginProvider", account.LoginProvider)
                                        @Html.Hidden("ProviderKey", account.ProviderKey)
                                        <input type="submit" class="btn btn-default" value="Remove" title="Remove this @account.ProviderDisplayName login from your account" />
                                    </div>
                                }
                            }
                            else
                            {
                                @: &nbsp;
                            }
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }
    if (Model.OtherLogins.Count > 0)
    {
        <h4>Add another service to log in.</h4>
        <hr />
        @Html.Partial("_ExternalLoginsListPartial", new WebApplication1.Models.ExternalLoginListViewModel { ReturnUrl = ViewBag.ReturnUrl })
    }
}